<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nebula+ Smart TV</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body class="main-bg">

    <div id="sc-login" class="screen">
        <div class="glass-overlay">
            <div class="login-box content-box">
                <h1 class="logo-title">NEBULA<span>+</span></h1>
                <p class="subtitle">Inicia sesi√≥n con tu cuenta</p>
                <div class="form-container">
                    <input type="text" id="log-u" class="tv-focusable" placeholder="Usuario">
                    <input type="password" id="log-p" class="tv-focusable" placeholder="Contrase√±a">
                    <button class="btn-primary tv-focusable" onclick="entrar()">ENTRAR</button>
                </div>
            </div>
        </div>
    </div>

    <div id="sc-main" class="screen hidden">
        <nav class="navbar glass-nav">
            <div class="nav-top">
                <h1 class="logo-title" style="font-size: 24px;">NEBULA<span>+</span></h1>
                <div class="search-area">
                    <input type="text" id="search-box" class="tv-focusable" placeholder="Buscar..." oninput="buscar()">
                </div>
                <div class="user-zone">
                    <button class="avatar tv-focusable" onclick="toggleMenu()">üë§</button>
                    <div id="drop-menu" class="dropdown hidden content-box">
                        <div class="u-greeting" id="u-name">Hola</div>
                        <button class="btn-logout tv-focusable" onclick="cerrarSesion()">Cerrar Sesi√≥n</button>
                    </div>
                </div>
            </div>
            <div class="brand-bar">
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('disney')">DISNEY</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('netflix')">NETFLIX</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('hbo')">HBO MAX</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('paramount')">PARAMOUNT</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('apple')">APPLE TV</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('espn')">ESPN</button>
                <button class="tv-focusable brand-btn" onclick="seleccionarMarca('natgeo')">NAT GEO</button>
            </div>
        </nav>
        
        <div class="content-wrapper">
            <div class="filter-bar">
                <button id="t-peli" class="tv-focusable filter-btn active" onclick="cambiarTipo('pelicula')">PEL√çCULAS</button>
                <button id="t-serie" class="tv-focusable filter-btn" onclick="cambiarTipo('serie')">SERIES</button>
            </div>
            <h2 id="cat-title" class="section-title"></h2>
            <div class="movie-grid" id="grid"></div>
        </div>
    </div>

    <div id="sc-pre-video" class="screen hidden" style="position: fixed; top:0; left:0; width:100%; height:100%; z-index:2500; background-size:cover; background-position:center;">
        <div class="glass-overlay-side">
            <h1 id="pre-title" class="hero-title"></h1>
            <div class="button-group">
                <button id="btn-main-play" class="tv-focusable btn-white" onclick="lanzarReproductor()">‚ñ∂ VER</button>
                <button id="btn-pre-back" class="tv-focusable btn-outline" onclick="volverAlCatalogo()">ATR√ÅS</button>
            </div>
        </div>
    </div>

    <div id="video-player-final" class="player-overlay hidden" style="z-index:3000;">
        <div id="video-canvas" style="width:100%; height:100%;"></div>
        <div id="player-gui" class="gui-layer"> 
            <div class="gui-top">
                <span id="video-title-ui" style="font-size: 24px;"></span>
                <button class="tv-focusable btn-close-player" onclick="cerrarReproductorAFicha()">‚úï CERRAR</button>
            </div>
            <div class="gui-bottom">
                <div class="progress-container"><div id="progress-bar-new" class="progress-bar"></div></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
